{"ast":null,"code":"var _jsxFileName = \"/Users/alex/Desktop/2025 S2/INFS3208/INFS3208-Cloud-Computing/front-end/src/components/DestinationSelection.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport infoIcon from '../assets/icons/info.png';\nimport purseIcon from '../assets/icons/purse.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DestinationSelection = () => {\n  _s();\n  const navigate = useNavigate();\n  const [currentSwipeCount, setCurrentSwipeCount] = useState(1);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [toastMessage, setToastMessage] = useState('');\n  const [destinations, setDestinations] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const cardRef = useRef(null);\n  const startPosRef = useRef({\n    x: 0,\n    y: 0\n  });\n  const isDraggingRef = useRef(false);\n  const MAX_SWIPES = 20;\n  const SWIPE_THRESHOLD = 100;\n\n  // Your Google Places API key\n  const GOOGLE_PLACES_API_KEY = 'AIzaSyCu1wvtBH6Lmgr-eqVfKTU76Sm6oNSMnJo';\n\n  // LocalStorage keys\n  const LS_JOURNEY_KEY = \"frame8.myJourney.v1\";\n  const LS_VOTE_KEY = \"frame8.votes.v1\"; // { interested:[], notInterested:[] }\n\n  // Helpers to safely read/write JSON from localStorage\n  function readJSON(key, fallback) {\n    try {\n      var _JSON$parse;\n      return (_JSON$parse = JSON.parse(localStorage.getItem(key))) !== null && _JSON$parse !== void 0 ? _JSON$parse : fallback;\n    } catch {\n      return fallback;\n    }\n  }\n  function writeJSON(key, val) {\n    localStorage.setItem(key, JSON.stringify(val));\n  }\n\n  /** Save a vote (interested or notInterested) */\n  function recordVote(place, interested) {\n    const data = readJSON(LS_VOTE_KEY, {\n      interested: [],\n      notInterested: []\n    });\n    const bucket = interested ? \"interested\" : \"notInterested\";\n    // Simple deduplication using name+address key\n    const key = `${place.name}__${place.address}`;\n    const exists = arr => arr.some(x => `${x.name}__${x.address}` === key);\n    if (!exists(data[bucket])) {\n      data[bucket].push({\n        ...place,\n        votedAt: new Date().toISOString()\n      });\n    }\n    writeJSON(LS_VOTE_KEY, data);\n  }\n\n  /** Add a place to the journey (only for \"interested\" swipes) */\n  function addToJourney(place) {\n    const journey = readJSON(LS_JOURNEY_KEY, []);\n    // Prevent duplicates based on name+address\n    const key = `${place.name}__${place.address}`;\n    const exists = journey.some(x => `${x.name}__${x.address}` === key);\n    if (!exists) {\n      journey.push({\n        ...place,\n        addedAt: new Date().toISOString()\n        // Optionally include fields like start/end time or day here\n      });\n      writeJSON(LS_JOURNEY_KEY, journey);\n    }\n  }\n\n  // Fetch places from Google Places API\n  const fetchPlacesFromGoogle = useCallback(async () => {\n    console.log('Starting to fetch places from Google API...');\n    setIsLoading(true);\n    try {\n      const allDestinations = [];\n\n      // Fetch Hotels (5)\n      console.log('Fetching hotels...');\n      const hotels = await searchPlaces('hotels in Brisbane', 'lodging');\n      allDestinations.push(...hotels.slice(0, 5));\n\n      // Fetch Restaurants (5)\n      console.log('Fetching restaurants...');\n      const restaurants = await searchPlaces('restaurants in Brisbane', 'restaurant');\n      allDestinations.push(...restaurants.slice(0, 5));\n\n      // Fetch Attractions (10)\n      console.log('Fetching attractions...');\n      const attractions = await searchPlaces('tourist attractions in Brisbane', 'tourist_attraction');\n      allDestinations.push(...attractions.slice(0, 10));\n      console.log('All destinations fetched:', allDestinations);\n      setDestinations(allDestinations);\n    } catch (error) {\n      console.error('Error fetching places:', error);\n      // Fallback to mock data if API fails\n      console.log('Using mock data as fallback');\n      setDestinations(getMockDestinations());\n    }\n    setIsLoading(false);\n  }, []);\n  const searchPlaces = async (query, type) => {\n    console.log(`Searching for: ${query} (type: ${type})`);\n    try {\n      var _data$places;\n      const response = await fetch('https://places.googleapis.com/v1/places:searchText', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Goog-Api-Key': GOOGLE_PLACES_API_KEY,\n          'X-Goog-FieldMask': 'places.displayName,places.formattedAddress,places.rating,places.priceLevel,places.photos,places.editorialSummary'\n        },\n        body: JSON.stringify({\n          textQuery: query,\n          includedType: type,\n          locationBias: {\n            circle: {\n              center: {\n                latitude: -27.4698,\n                longitude: 153.0251\n              },\n              radius: 50000.0\n            }\n          },\n          maxResultCount: 10\n        })\n      });\n      console.log('API Response status:', response.status);\n      if (!response.ok) {\n        throw new Error(`API request failed with status ${response.status}`);\n      }\n      const data = await response.json();\n      console.log('API Response data:', data);\n      return ((_data$places = data.places) === null || _data$places === void 0 ? void 0 : _data$places.map(place => {\n        var _place$displayName, _place$editorialSumma, _place$photos;\n        return {\n          name: ((_place$displayName = place.displayName) === null || _place$displayName === void 0 ? void 0 : _place$displayName.text) || 'Unknown Place',\n          description: ((_place$editorialSumma = place.editorialSummary) === null || _place$editorialSumma === void 0 ? void 0 : _place$editorialSumma.text) || 'Great place to visit in Brisbane',\n          rating: place.rating || 4.0,\n          price: getPriceText(place.priceLevel),\n          address: place.formattedAddress || 'Brisbane, QLD',\n          image: (_place$photos = place.photos) !== null && _place$photos !== void 0 && _place$photos[0] ? `https://places.googleapis.com/v1/${place.photos[0].name}/media?maxHeightPx=600&maxWidthPx=800&key=${GOOGLE_PLACES_API_KEY}` : getDefaultImage(type)\n        };\n      })) || [];\n    } catch (error) {\n      console.error(`Error searching for ${query}:`, error);\n      return [];\n    }\n  };\n  const getPriceText = priceLevel => {\n    switch (priceLevel) {\n      case 'PRICE_LEVEL_FREE':\n        return 'Free';\n      case 'PRICE_LEVEL_INEXPENSIVE':\n        return 'AU$25';\n      case 'PRICE_LEVEL_MODERATE':\n        return 'AU$50';\n      case 'PRICE_LEVEL_EXPENSIVE':\n        return 'AU$100';\n      case 'PRICE_LEVEL_VERY_EXPENSIVE':\n        return 'AU$150';\n      default:\n        return 'AU$50';\n    }\n  };\n  const getDefaultImage = type => {\n    switch (type) {\n      case 'lodging':\n        return 'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800&h=600&fit=crop';\n      case 'restaurant':\n        return 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&h=600&fit=crop';\n      default:\n        return 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop';\n    }\n  };\n  const getMockDestinations = () => [{\n    name: \"Sunnybank Hotel\",\n    description: \"Unassuming roadside property featuring a steakhouse with a sports bar, as well as free parking.\",\n    rating: 4.9,\n    price: \"AU$100\",\n    address: \"555 Lang St, St Lucia\",\n    image: \"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800&h=600&fit=crop\"\n  }, {\n    name: \"Brisbane River Cruise\",\n    description: \"Scenic river cruise showcasing Brisbane's iconic landmarks and beautiful cityscape views.\",\n    rating: 4.7,\n    price: \"AU$45\",\n    address: \"Brisbane River\",\n    image: \"https://images.unsplash.com/photo-1544966503-7cc5ac882d5e?w=800&h=600&fit=crop\"\n  }, {\n    name: \"Story Bridge Adventure\",\n    description: \"Thrilling bridge climb experience offering panoramic views of Brisbane city and surrounds.\",\n    rating: 4.8,\n    price: \"AU$89\",\n    address: \"Story Bridge\",\n    image: \"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop\"\n  }, {\n    name: \"Queensland Museum\",\n    description: \"Fascinating museum with natural history exhibits, planetarium shows and interactive displays.\",\n    rating: 4.5,\n    price: \"AU$25\",\n    address: \"South Bank\",\n    image: \"https://images.unsplash.com/photo-1565204189813-68fe0aa8c8be?w=800&h=600&fit=crop\"\n  }, {\n    name: \"Lone Pine Koala Sanctuary\",\n    description: \"World-famous koala sanctuary where you can cuddle koalas and hand-feed kangaroos.\",\n    rating: 4.6,\n    price: \"AU$35\",\n    address: \"Lone Pine Sanctuary\",\n    image: \"https://images.unsplash.com/photo-1459262838948-3e2de6c1ec80?w=800&h=600&fit=crop\"\n  }];\n\n  // Load destinations on component mount - FIXED: Now always calls Google API\n  useEffect(() => {\n    fetchPlacesFromGoogle();\n  }, [fetchPlacesFromGoogle]);\n  const currentDestination = destinations[(currentSwipeCount - 1) % destinations.length];\n  const getRatingColor = rating => {\n    if (rating >= 4.5) return '#4CAF50';\n    if (rating >= 4.0) return '#FF9800';\n    if (rating >= 3.0) return '#FF5722';\n    return '#F44336';\n  };\n  const showToast = message => {\n    setToastMessage(message);\n    setTimeout(() => setToastMessage(''), 2000);\n  };\n  const handleSwipe = direction => {\n    if (isAnimating) return;\n    setIsAnimating(true);\n    const card = cardRef.current;\n    if (card) {\n      const translateX = direction === 'right' ? 1000 : -1000;\n      const rotation = direction === 'right' ? 30 : -30;\n      card.style.transform = `translateX(${translateX}px) rotate(${rotation}deg)`;\n      card.style.opacity = '0';\n      setTimeout(() => {\n        if (direction === 'right') {\n          // Right swipe: record as \"interested\" and add to journey\n          recordVote(currentDestination, true);\n          addToJourney(currentDestination);\n          showToast('Added to your trip!');\n        } else {\n          // Left swipe: record as \"not interested\"\n          recordVote(currentDestination, false);\n          showToast('Not interested');\n        }\n        setTimeout(() => {\n          if (currentSwipeCount >= MAX_SWIPES) {\n            showToast('All destinations selected! Planning complete.');\n            setTimeout(() => navigate('/agreement'), 2000);\n          } else {\n            setCurrentSwipeCount(prev => prev + 1);\n            card.style.transform = 'translateX(0px) rotate(0deg)';\n            card.style.opacity = '1';\n            setIsAnimating(false);\n          }\n        }, 500);\n      }, 300);\n    }\n  };\n\n  // Touch event handlers\n  const handleTouchStart = e => {\n    if (isAnimating) return;\n    const touch = e.touches[0];\n    startPosRef.current = {\n      x: touch.clientX,\n      y: touch.clientY\n    };\n    isDraggingRef.current = true;\n  };\n  const handleTouchMove = e => {\n    if (!isDraggingRef.current || isAnimating) return;\n    e.preventDefault();\n    const touch = e.touches[0];\n    const deltaX = touch.clientX - startPosRef.current.x;\n    const deltaY = touch.clientY - startPosRef.current.y;\n    if (Math.abs(deltaX) > Math.abs(deltaY)) {\n      const card = cardRef.current;\n      if (card) {\n        const rotation = deltaX * 0.1;\n        card.style.transform = `translateX(${deltaX}px) rotate(${rotation}deg)`;\n        card.style.opacity = 1 - Math.abs(deltaX) / 300;\n      }\n    }\n  };\n  const handleTouchEnd = e => {\n    if (!isDraggingRef.current || isAnimating) return;\n    const touch = e.changedTouches[0];\n    const deltaX = touch.clientX - startPosRef.current.x;\n    const deltaY = Math.abs(touch.clientY - startPosRef.current.y);\n    isDraggingRef.current = false;\n    if (Math.abs(deltaX) > SWIPE_THRESHOLD && Math.abs(deltaX) > deltaY) {\n      handleSwipe(deltaX > 0 ? 'right' : 'left');\n    } else {\n      // Reset card position\n      const card = cardRef.current;\n      if (card) {\n        card.style.transform = 'translateX(0px) rotate(0deg)';\n        card.style.opacity = '1';\n      }\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"destination-selection\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading destinations from Google Places...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        jsx: true,\n        children: `\n          .destination-selection {\n            height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background-color: white;\n          }\n          .loading-container {\n            text-align: center;\n          }\n          .spinner {\n            width: 40px;\n            height: 40px;\n            border: 4px solid #f3f3f3;\n            border-top: 4px solid #324B86;\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n            margin: 0 auto 20px;\n          }\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this);\n  }\n  if (!currentDestination) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"destination-selection\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-destinations\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No destinations available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/'),\n          children: \"Go Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"destination-selection\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-btn\",\n        onClick: () => navigate('/'),\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"24\",\n          height: \"24\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          strokeWidth: \"2\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M19 12H5M12 19l-7-7 7-7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Brisbane\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"01/09/25 - 07/09/25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"counter\",\n        children: [currentSwipeCount, \"/\", MAX_SWIPES]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: cardRef,\n        className: \"destination-card no-select\",\n        onTouchStart: handleTouchStart,\n        onTouchMove: handleTouchMove,\n        onTouchEnd: handleTouchEnd,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-image\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: currentDestination.image,\n            alt: currentDestination.name,\n            onError: e => {\n              e.target.src = 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: currentDestination.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rating\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"16\",\n                height: \"16\",\n                viewBox: \"0 0 24 24\",\n                fill: getRatingColor(currentDestination.rating),\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: getRatingColor(currentDestination.rating)\n                },\n                children: currentDestination.rating\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"description\",\n            children: currentDestination.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bottom-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"price-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: purseIcon,\n                  alt: \"Price\",\n                  width: \"16\",\n                  height: \"16\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [currentDestination.price, \" / person\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"address-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 435,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                    cx: \"12\",\n                    cy: \"10\",\n                    r: \"3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: currentDestination.address\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"info-btn\",\n              onClick: e => {\n                e.stopPropagation();\n                navigate('/destination-detail', {\n                  state: {\n                    destination: currentDestination\n                  }\n                });\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: infoIcon,\n                alt: \"Info\",\n                width: \"20\",\n                height: \"20\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"instructions\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"swipe-left\",\n        children: \"\\u2190 Not interested\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"swipe-divider\",\n        children: \" | \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"swipe-right\",\n        children: \"Interested \\u2192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 7\n    }, this), toastMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toast\",\n      children: toastMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .destination-selection {\n          height: 100vh;\n          background-color: white;\n          display: flex;\n          flex-direction: column;\n          overflow: hidden;\n        }\n\n        .header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 16px;\n          background-color: white;\n          z-index: 10;\n        }\n\n        .back-btn {\n          background: none;\n          border: none;\n          padding: 12px;\n          cursor: pointer;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .back-btn:hover {\n          background-color: rgba(0,0,0,0.1);\n        }\n\n        .header-center {\n          text-align: center;\n          flex: 1;\n        }\n\n        .header-center h2 {\n          margin: 0;\n          font-size: 20px;\n          font-weight: 700;\n          color: #000;\n        }\n\n        .header-center p {\n          margin: 0;\n          font-size: 12px;\n          color: #666;\n        }\n\n        .counter {\n          font-size: 18px;\n          font-weight: 700;\n          color: #000;\n          min-width: 50px;\n          text-align: right;\n        }\n\n        .card-container {\n          flex: 1;\n          padding: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          position: relative;\n        }\n\n        .destination-card {\n          width: 100%;\n          max-width: 400px;\n          height: 80vh;\n          max-height: 600px;\n          background: white;\n          border-radius: 16px;\n          box-shadow: 0 8px 32px rgba(0,0,0,0.15);\n          overflow: hidden;\n          transition: transform 0.3s ease, opacity 0.3s ease;\n          cursor: grab;\n          position: relative;\n        }\n\n        .destination-card:active {\n          cursor: grabbing;\n        }\n\n        .card-image {\n          height: 100%;\n          width: 100%;\n          overflow: hidden;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n        }\n\n        .card-image img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n\n        .card-content {\n          padding: 20px;\n          background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.6) 40%, transparent 100%);\n          color: white;\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          display: flex;\n          flex-direction: column;\n          justify-content: flex-end;\n          min-height: 200px;\n        }\n\n        .header-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 8px;\n        }\n\n        .header-row h3 {\n          margin: 0;\n          font-size: 24px;\n          font-weight: 700;\n          flex: 1;\n        }\n\n        .rating {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          font-size: 16px;\n          font-weight: 700;\n        }\n\n        .description {\n          margin: 0 0 16px 0;\n          font-size: 14px;\n          line-height: 1.4;\n          color: #E0E0E0;\n        }\n\n        .bottom-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-end;\n        }\n\n        .details {\n          flex: 1;\n        }\n\n        .price-row, .address-row {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          margin-bottom: 8px;\n          font-size: 14px;\n        }\n\n        .price-row {\n          font-weight: 700;\n          color: white;\n        }\n\n        .address-row {\n          font-size: 12px;\n          color: #E0E0E0;\n        }\n\n        .info-btn {\n          background: rgba(255,255,255,0.2);\n          border: none;\n          border-radius: 50%;\n          width: 40px;\n          height: 40px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          backdrop-filter: blur(10px);\n          color: white;\n        }\n\n        .info-btn:hover {\n          background: rgba(255,255,255,0.3);\n        }\n\n        .instructions {\n          text-align: center;\n          padding: 20px;\n          font-size: 14px;\n          color: #666;\n          opacity: 0.7;\n          display: flex;\n          justify-content: center;\n          gap: 8px;\n          align-items: center;\n        }\n\n        .swipe-left {\n          color: #FF5722\n        }\n        .swipe-right {\n          color: #4CAF50\n        }\n        .swipe-divider {\n          color: #999;\n        }\n\n        .toast {\n          position: fixed;\n          bottom: 100px;\n          left: 50%;\n          transform: translateX(-50%);\n          background-color: rgba(0,0,0,0.8);\n          color: white;\n          padding: 12px 24px;\n          border-radius: 20px;\n          z-index: 1000;\n          font-size: 14px;\n        }\n\n        @media (max-width: 480px) {\n          .header {\n            padding: 12px;\n          }\n          \n          .card-container {\n            padding: 12px;\n          }\n          \n          .destination-card {\n            height: 70vh;\n          }\n          \n          .card-content {\n            padding: 16px;\n          }\n          \n          .header-row h3 {\n            font-size: 20px;\n          }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 369,\n    columnNumber: 5\n  }, this);\n};\n_s(DestinationSelection, \"ynUD1GcBWvA4D+CzhB2uXC6/k10=\", false, function () {\n  return [useNavigate];\n});\n_c = DestinationSelection;\nexport default DestinationSelection;\nvar _c;\n$RefreshReg$(_c, \"DestinationSelection\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","useNavigate","infoIcon","purseIcon","jsxDEV","_jsxDEV","DestinationSelection","_s","navigate","currentSwipeCount","setCurrentSwipeCount","isAnimating","setIsAnimating","toastMessage","setToastMessage","destinations","setDestinations","isLoading","setIsLoading","cardRef","startPosRef","x","y","isDraggingRef","MAX_SWIPES","SWIPE_THRESHOLD","GOOGLE_PLACES_API_KEY","LS_JOURNEY_KEY","LS_VOTE_KEY","readJSON","key","fallback","_JSON$parse","JSON","parse","localStorage","getItem","writeJSON","val","setItem","stringify","recordVote","place","interested","data","notInterested","bucket","name","address","exists","arr","some","push","votedAt","Date","toISOString","addToJourney","journey","addedAt","fetchPlacesFromGoogle","console","log","allDestinations","hotels","searchPlaces","slice","restaurants","attractions","error","getMockDestinations","query","type","_data$places","response","fetch","method","headers","body","textQuery","includedType","locationBias","circle","center","latitude","longitude","radius","maxResultCount","status","ok","Error","json","places","map","_place$displayName","_place$editorialSumma","_place$photos","displayName","text","description","editorialSummary","rating","price","getPriceText","priceLevel","formattedAddress","image","photos","getDefaultImage","currentDestination","length","getRatingColor","showToast","message","setTimeout","handleSwipe","direction","card","current","translateX","rotation","style","transform","opacity","prev","handleTouchStart","e","touch","touches","clientX","clientY","handleTouchMove","preventDefault","deltaX","deltaY","Math","abs","handleTouchEnd","changedTouches","className","children","fileName","_jsxFileName","lineNumber","columnNumber","jsx","onClick","width","height","viewBox","fill","stroke","strokeWidth","d","ref","onTouchStart","onTouchMove","onTouchEnd","src","alt","onError","target","color","cx","cy","r","stopPropagation","state","destination","_c","$RefreshReg$"],"sources":["/Users/alex/Desktop/2025 S2/INFS3208/INFS3208-Cloud-Computing/front-end/src/components/DestinationSelection.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport infoIcon from '../assets/icons/info.png';\nimport purseIcon from '../assets/icons/purse.png';\n\nconst DestinationSelection = () => {\n  const navigate = useNavigate();\n  const [currentSwipeCount, setCurrentSwipeCount] = useState(1);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [toastMessage, setToastMessage] = useState('');\n  const [destinations, setDestinations] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const cardRef = useRef(null);\n  const startPosRef = useRef({ x: 0, y: 0 });\n  const isDraggingRef = useRef(false);\n\n  const MAX_SWIPES = 20;\n  const SWIPE_THRESHOLD = 100;\n  \n  // Your Google Places API key\n  const GOOGLE_PLACES_API_KEY = 'AIzaSyCu1wvtBH6Lmgr-eqVfKTU76Sm6oNSMnJo';\n\n  // LocalStorage keys\nconst LS_JOURNEY_KEY = \"frame8.myJourney.v1\";\nconst LS_VOTE_KEY    = \"frame8.votes.v1\"; // { interested:[], notInterested:[] }\n\n// Helpers to safely read/write JSON from localStorage\nfunction readJSON(key, fallback) {\n  try { return JSON.parse(localStorage.getItem(key)) ?? fallback; }\n  catch { return fallback; }\n}\nfunction writeJSON(key, val) {\n  localStorage.setItem(key, JSON.stringify(val));\n}\n\n/** Save a vote (interested or notInterested) */\nfunction recordVote(place, interested) {\n  const data = readJSON(LS_VOTE_KEY, { interested: [], notInterested: [] });\n  const bucket = interested ? \"interested\" : \"notInterested\";\n  // Simple deduplication using name+address key\n  const key = `${place.name}__${place.address}`;\n  const exists = (arr) => arr.some(x => `${x.name}__${x.address}` === key);\n  if (!exists(data[bucket])) {\n    data[bucket].push({ ...place, votedAt: new Date().toISOString() });\n  }\n  writeJSON(LS_VOTE_KEY, data);\n}\n\n/** Add a place to the journey (only for \"interested\" swipes) */\nfunction addToJourney(place) {\n  const journey = readJSON(LS_JOURNEY_KEY, []);\n  // Prevent duplicates based on name+address\n  const key = `${place.name}__${place.address}`;\n  const exists = journey.some(x => `${x.name}__${x.address}` === key);\n  if (!exists) {\n    journey.push({\n      ...place,\n      addedAt: new Date().toISOString()\n      // Optionally include fields like start/end time or day here\n    });\n    writeJSON(LS_JOURNEY_KEY, journey);\n  }\n}\n\n  // Fetch places from Google Places API\n  const fetchPlacesFromGoogle = useCallback(async () => {\n    console.log('Starting to fetch places from Google API...');\n    setIsLoading(true);\n    try {\n      const allDestinations = [];\n      \n      // Fetch Hotels (5)\n      console.log('Fetching hotels...');\n      const hotels = await searchPlaces('hotels in Brisbane', 'lodging');\n      allDestinations.push(...hotels.slice(0, 5));\n      \n      // Fetch Restaurants (5)\n      console.log('Fetching restaurants...');\n      const restaurants = await searchPlaces('restaurants in Brisbane', 'restaurant');\n      allDestinations.push(...restaurants.slice(0, 5));\n      \n      // Fetch Attractions (10)\n      console.log('Fetching attractions...');\n      const attractions = await searchPlaces('tourist attractions in Brisbane', 'tourist_attraction');\n      allDestinations.push(...attractions.slice(0, 10));\n      \n      console.log('All destinations fetched:', allDestinations);\n      setDestinations(allDestinations);\n    } catch (error) {\n      console.error('Error fetching places:', error);\n      // Fallback to mock data if API fails\n      console.log('Using mock data as fallback');\n      setDestinations(getMockDestinations());\n    }\n    setIsLoading(false);\n  }, []);\n\n  const searchPlaces = async (query, type) => {\n    console.log(`Searching for: ${query} (type: ${type})`);\n    \n    try {\n      const response = await fetch(\n        'https://places.googleapis.com/v1/places:searchText',\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-Goog-Api-Key': GOOGLE_PLACES_API_KEY,\n            'X-Goog-FieldMask': 'places.displayName,places.formattedAddress,places.rating,places.priceLevel,places.photos,places.editorialSummary'\n          },\n          body: JSON.stringify({\n            textQuery: query,\n            includedType: type,\n            locationBias: {\n              circle: {\n                center: {\n                  latitude: -27.4698,\n                  longitude: 153.0251\n                },\n                radius: 50000.0\n              }\n            },\n            maxResultCount: 10\n          })\n        }\n      );\n\n      console.log('API Response status:', response.status);\n      \n      if (!response.ok) {\n        throw new Error(`API request failed with status ${response.status}`);\n      }\n\n      const data = await response.json();\n      console.log('API Response data:', data);\n      \n      return data.places?.map(place => ({\n        name: place.displayName?.text || 'Unknown Place',\n        description: place.editorialSummary?.text || 'Great place to visit in Brisbane',\n        rating: place.rating || 4.0,\n        price: getPriceText(place.priceLevel),\n        address: place.formattedAddress || 'Brisbane, QLD',\n        image: place.photos?.[0] ? \n          `https://places.googleapis.com/v1/${place.photos[0].name}/media?maxHeightPx=600&maxWidthPx=800&key=${GOOGLE_PLACES_API_KEY}` :\n          getDefaultImage(type)\n      })) || [];\n    } catch (error) {\n      console.error(`Error searching for ${query}:`, error);\n      return [];\n    }\n  };\n\n  const getPriceText = (priceLevel) => {\n    switch (priceLevel) {\n      case 'PRICE_LEVEL_FREE': return 'Free';\n      case 'PRICE_LEVEL_INEXPENSIVE': return 'AU$25';\n      case 'PRICE_LEVEL_MODERATE': return 'AU$50';\n      case 'PRICE_LEVEL_EXPENSIVE': return 'AU$100';\n      case 'PRICE_LEVEL_VERY_EXPENSIVE': return 'AU$150';\n      default: return 'AU$50';\n    }\n  };\n\n  const getDefaultImage = (type) => {\n    switch (type) {\n      case 'lodging': return 'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800&h=600&fit=crop';\n      case 'restaurant': return 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&h=600&fit=crop';\n      default: return 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop';\n    }\n  };\n\n  const getMockDestinations = () => [\n    {\n      name: \"Sunnybank Hotel\",\n      description: \"Unassuming roadside property featuring a steakhouse with a sports bar, as well as free parking.\",\n      rating: 4.9,\n      price: \"AU$100\",\n      address: \"555 Lang St, St Lucia\",\n      image: \"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800&h=600&fit=crop\"\n    },\n    {\n      name: \"Brisbane River Cruise\",\n      description: \"Scenic river cruise showcasing Brisbane's iconic landmarks and beautiful cityscape views.\",\n      rating: 4.7,\n      price: \"AU$45\",\n      address: \"Brisbane River\",\n      image: \"https://images.unsplash.com/photo-1544966503-7cc5ac882d5e?w=800&h=600&fit=crop\"\n    },\n    {\n      name: \"Story Bridge Adventure\",\n      description: \"Thrilling bridge climb experience offering panoramic views of Brisbane city and surrounds.\",\n      rating: 4.8,\n      price: \"AU$89\",\n      address: \"Story Bridge\",\n      image: \"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop\"\n    },\n    {\n      name: \"Queensland Museum\",\n      description: \"Fascinating museum with natural history exhibits, planetarium shows and interactive displays.\",\n      rating: 4.5,\n      price: \"AU$25\",\n      address: \"South Bank\",\n      image: \"https://images.unsplash.com/photo-1565204189813-68fe0aa8c8be?w=800&h=600&fit=crop\"\n    },\n    {\n      name: \"Lone Pine Koala Sanctuary\",\n      description: \"World-famous koala sanctuary where you can cuddle koalas and hand-feed kangaroos.\",\n      rating: 4.6,\n      price: \"AU$35\",\n      address: \"Lone Pine Sanctuary\",\n      image: \"https://images.unsplash.com/photo-1459262838948-3e2de6c1ec80?w=800&h=600&fit=crop\"\n    }\n  ];\n\n  // Load destinations on component mount - FIXED: Now always calls Google API\n  useEffect(() => {\n    fetchPlacesFromGoogle();\n  }, [fetchPlacesFromGoogle]);\n\n  const currentDestination = destinations[(currentSwipeCount - 1) % destinations.length];\n\n  const getRatingColor = (rating) => {\n    if (rating >= 4.5) return '#4CAF50';\n    if (rating >= 4.0) return '#FF9800';\n    if (rating >= 3.0) return '#FF5722';\n    return '#F44336';\n  };\n\n  const showToast = (message) => {\n    setToastMessage(message);\n    setTimeout(() => setToastMessage(''), 2000);\n  };\n\n  const handleSwipe = (direction) => {\n    if (isAnimating) return;\n    \n    setIsAnimating(true);\n    const card = cardRef.current;\n    \n    if (card) {\n      const translateX = direction === 'right' ? 1000 : -1000;\n      const rotation = direction === 'right' ? 30 : -30;\n      \n      card.style.transform = `translateX(${translateX}px) rotate(${rotation}deg)`;\n      card.style.opacity = '0';\n      \n      setTimeout(() => {\n         if (direction === 'right') {\n          // Right swipe: record as \"interested\" and add to journey\n          recordVote(currentDestination, true);\n          addToJourney(currentDestination);\n          showToast('Added to your trip!');\n        } else {\n          // Left swipe: record as \"not interested\"\n          recordVote(currentDestination, false);\n          showToast('Not interested');\n        }\n        \n        setTimeout(() => {\n          if (currentSwipeCount >= MAX_SWIPES) {\n            showToast('All destinations selected! Planning complete.');\n            setTimeout(() => navigate('/agreement'), 2000);\n          } else {\n            setCurrentSwipeCount(prev => prev + 1);\n            card.style.transform = 'translateX(0px) rotate(0deg)';\n            card.style.opacity = '1';\n            setIsAnimating(false);\n          }\n        }, 500);\n      }, 300);\n    }\n  };\n\n  // Touch event handlers\n  const handleTouchStart = (e) => {\n    if (isAnimating) return;\n    const touch = e.touches[0];\n    startPosRef.current = { x: touch.clientX, y: touch.clientY };\n    isDraggingRef.current = true;\n  };\n\n  const handleTouchMove = (e) => {\n    if (!isDraggingRef.current || isAnimating) return;\n    \n    e.preventDefault();\n    const touch = e.touches[0];\n    const deltaX = touch.clientX - startPosRef.current.x;\n    const deltaY = touch.clientY - startPosRef.current.y;\n    \n    if (Math.abs(deltaX) > Math.abs(deltaY)) {\n      const card = cardRef.current;\n      if (card) {\n        const rotation = deltaX * 0.1;\n        card.style.transform = `translateX(${deltaX}px) rotate(${rotation}deg)`;\n        card.style.opacity = 1 - Math.abs(deltaX) / 300;\n      }\n    }\n  };\n\n  const handleTouchEnd = (e) => {\n    if (!isDraggingRef.current || isAnimating) return;\n    \n    const touch = e.changedTouches[0];\n    const deltaX = touch.clientX - startPosRef.current.x;\n    const deltaY = Math.abs(touch.clientY - startPosRef.current.y);\n    \n    isDraggingRef.current = false;\n    \n    if (Math.abs(deltaX) > SWIPE_THRESHOLD && Math.abs(deltaX) > deltaY) {\n      handleSwipe(deltaX > 0 ? 'right' : 'left');\n    } else {\n      // Reset card position\n      const card = cardRef.current;\n      if (card) {\n        card.style.transform = 'translateX(0px) rotate(0deg)';\n        card.style.opacity = '1';\n      }\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"destination-selection\">\n        <div className=\"loading-container\">\n          <div className=\"spinner\"></div>\n          <p>Loading destinations from Google Places...</p>\n        </div>\n        <style jsx>{`\n          .destination-selection {\n            height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background-color: white;\n          }\n          .loading-container {\n            text-align: center;\n          }\n          .spinner {\n            width: 40px;\n            height: 40px;\n            border: 4px solid #f3f3f3;\n            border-top: 4px solid #324B86;\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n            margin: 0 auto 20px;\n          }\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        `}</style>\n      </div>\n    );\n  }\n\n  if (!currentDestination) {\n    return (\n      <div className=\"destination-selection\">\n        <div className=\"no-destinations\">\n          <p>No destinations available</p>\n          <button onClick={() => navigate('/')}>Go Home</button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"destination-selection\">\n      {/* Header */}\n      <div className=\"header\">\n        <button className=\"back-btn\" onClick={() => navigate('/')}>\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n            <path d=\"M19 12H5M12 19l-7-7 7-7\"/>\n          </svg>\n        </button>\n        \n        <div className=\"header-center\">\n          <h2>Brisbane</h2>\n          <p>01/09/25 - 07/09/25</p>\n        </div>\n        \n        <div className=\"counter\">\n          {currentSwipeCount}/{MAX_SWIPES}\n        </div>\n      </div>\n\n      {/* Card Container */}\n      <div className=\"card-container\">\n        <div \n          ref={cardRef}\n          className=\"destination-card no-select\"\n          onTouchStart={handleTouchStart}\n          onTouchMove={handleTouchMove}\n          onTouchEnd={handleTouchEnd}\n        >\n          <div className=\"card-image\">\n            <img \n              src={currentDestination.image} \n              alt={currentDestination.name}\n              onError={(e) => {\n                e.target.src = 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop';\n              }}\n            />\n          </div>\n          \n          <div className=\"card-content\">\n            <div className=\"header-row\">\n              <h3>{currentDestination.name}</h3>\n              <div className=\"rating\">\n                <svg \n                  width=\"16\" \n                  height=\"16\" \n                  viewBox=\"0 0 24 24\" \n                  fill={getRatingColor(currentDestination.rating)}\n                >\n                  <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n                </svg>\n                <span style={{ color: getRatingColor(currentDestination.rating) }}>\n                  {currentDestination.rating}\n                </span>\n              </div>\n            </div>\n            \n            <p className=\"description\">{currentDestination.description}</p>\n            \n            <div className=\"bottom-row\">\n              <div className=\"details\">\n                <div className=\"price-row\">\n                  <img src={purseIcon} alt=\"Price\" width=\"16\" height=\"16\" />\n                  <span>{currentDestination.price} / person</span>\n                </div>\n                <div className=\"address-row\">\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                    <path d=\"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z\"></path>\n                    <circle cx=\"12\" cy=\"10\" r=\"3\"></circle>\n                  </svg>\n                  <span>{currentDestination.address}</span>\n                </div>\n              </div>\n              \n              <button className=\"info-btn\" onClick={(e) => { \n                e.stopPropagation(); \n                navigate('/destination-detail', { state: { destination: currentDestination } });\n              }}>\n                <img src={infoIcon} alt=\"Info\" width=\"20\" height=\"20\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Swipe Instructions */}\n      <div className=\"instructions\">\n        <span className=\"swipe-left\"> Not interested</span>\n        <span className=\"swipe-divider\"> | </span>\n        <span className=\"swipe-right\">Interested </span>\n      </div>\n\n      {/* Toast */}\n      {toastMessage && <div className=\"toast\">{toastMessage}</div>}\n\n      <style jsx>{`\n        .destination-selection {\n          height: 100vh;\n          background-color: white;\n          display: flex;\n          flex-direction: column;\n          overflow: hidden;\n        }\n\n        .header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 16px;\n          background-color: white;\n          z-index: 10;\n        }\n\n        .back-btn {\n          background: none;\n          border: none;\n          padding: 12px;\n          cursor: pointer;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .back-btn:hover {\n          background-color: rgba(0,0,0,0.1);\n        }\n\n        .header-center {\n          text-align: center;\n          flex: 1;\n        }\n\n        .header-center h2 {\n          margin: 0;\n          font-size: 20px;\n          font-weight: 700;\n          color: #000;\n        }\n\n        .header-center p {\n          margin: 0;\n          font-size: 12px;\n          color: #666;\n        }\n\n        .counter {\n          font-size: 18px;\n          font-weight: 700;\n          color: #000;\n          min-width: 50px;\n          text-align: right;\n        }\n\n        .card-container {\n          flex: 1;\n          padding: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          position: relative;\n        }\n\n        .destination-card {\n          width: 100%;\n          max-width: 400px;\n          height: 80vh;\n          max-height: 600px;\n          background: white;\n          border-radius: 16px;\n          box-shadow: 0 8px 32px rgba(0,0,0,0.15);\n          overflow: hidden;\n          transition: transform 0.3s ease, opacity 0.3s ease;\n          cursor: grab;\n          position: relative;\n        }\n\n        .destination-card:active {\n          cursor: grabbing;\n        }\n\n        .card-image {\n          height: 100%;\n          width: 100%;\n          overflow: hidden;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n        }\n\n        .card-image img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n\n        .card-content {\n          padding: 20px;\n          background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.6) 40%, transparent 100%);\n          color: white;\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          display: flex;\n          flex-direction: column;\n          justify-content: flex-end;\n          min-height: 200px;\n        }\n\n        .header-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 8px;\n        }\n\n        .header-row h3 {\n          margin: 0;\n          font-size: 24px;\n          font-weight: 700;\n          flex: 1;\n        }\n\n        .rating {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          font-size: 16px;\n          font-weight: 700;\n        }\n\n        .description {\n          margin: 0 0 16px 0;\n          font-size: 14px;\n          line-height: 1.4;\n          color: #E0E0E0;\n        }\n\n        .bottom-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-end;\n        }\n\n        .details {\n          flex: 1;\n        }\n\n        .price-row, .address-row {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          margin-bottom: 8px;\n          font-size: 14px;\n        }\n\n        .price-row {\n          font-weight: 700;\n          color: white;\n        }\n\n        .address-row {\n          font-size: 12px;\n          color: #E0E0E0;\n        }\n\n        .info-btn {\n          background: rgba(255,255,255,0.2);\n          border: none;\n          border-radius: 50%;\n          width: 40px;\n          height: 40px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          backdrop-filter: blur(10px);\n          color: white;\n        }\n\n        .info-btn:hover {\n          background: rgba(255,255,255,0.3);\n        }\n\n        .instructions {\n          text-align: center;\n          padding: 20px;\n          font-size: 14px;\n          color: #666;\n          opacity: 0.7;\n          display: flex;\n          justify-content: center;\n          gap: 8px;\n          align-items: center;\n        }\n\n        .swipe-left {\n          color: #FF5722\n        }\n        .swipe-right {\n          color: #4CAF50\n        }\n        .swipe-divider {\n          color: #999;\n        }\n\n        .toast {\n          position: fixed;\n          bottom: 100px;\n          left: 50%;\n          transform: translateX(-50%);\n          background-color: rgba(0,0,0,0.8);\n          color: white;\n          padding: 12px 24px;\n          border-radius: 20px;\n          z-index: 1000;\n          font-size: 14px;\n        }\n\n        @media (max-width: 480px) {\n          .header {\n            padding: 12px;\n          }\n          \n          .card-container {\n            padding: 12px;\n          }\n          \n          .destination-card {\n            height: 70vh;\n          }\n          \n          .card-content {\n            padding: 16px;\n          }\n          \n          .header-row h3 {\n            font-size: 20px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default DestinationSelection;"],"mappings":"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C,YAAA;MAAA,OAAM,CAAC,eAC1C1I,OAAA;QAAMqI,SAAS,EAAC,aAAa;QAAAC,QAAA,EAAC;MAAY;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9C,CAAC,EAGLlI,YAAY,iBAAIR,OAAA;MAAKqI,SAAS,EAAC,OAAO;MAAAC,QAAA,EAAE9H;IAAY;MAAA+H,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAE5D1I,OAAA;MAAO2I,GAAG;MAAAL,QAAA,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV,CAAC;AAACxI,EAAA,CApsBID,oBAAoB;EAAA,QACPL,WAAW;AAAA;AAAAuK,EAAA,GADxBlK,oBAAoB;AAssB1B,eAAeA,oBAAoB;AAAC,IAAAkK,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}