{"ast":null,"code":"var _jsxFileName = \"/Users/alex/Desktop/2025 S2/INFS3208/INFS3208-Cloud-Computing/front-end/src/components/Myjourney.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport JourneyMap from \"./JourneyMap\";\nimport BottomNav from \"./BottomNav\";\n\n// Must match the key used when saving journey items\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LS_JOURNEY_KEY = \"frame8.myJourney.v1\";\n\n// Read your Google Places key from env or replace with your constant\nconst GOOGLE_PLACES_API_KEY = process.env.REACT_APP_GOOGLE_PLACES_API_KEY;\n\n/* ---------- utils ---------- */\n\n// Build a Places API v1 photo URL from a photo name\nfunction buildPhotoUrl(photoName, {\n  maxHeight = 600,\n  maxWidth = 800\n} = {}) {\n  if (!photoName) return null;\n  return `https://places.googleapis.com/v1/${photoName}/media?maxHeightPx=${maxHeight}&maxWidthPx=${maxWidth}&key=${GOOGLE_PLACES_API_KEY}`;\n}\n\n// Default/fallback image (adjust to your project path)\nfunction getDefaultImage(type) {\n  return `/images/defaults/${type || \"place\"}.jpg`;\n}\n\n// Prefer English fields when available\nfunction getTitle(item) {\n  return item.title_en || item.name_en || item.title || item.name || \"Untitled\";\n}\nfunction getAddress(item) {\n  return item.address_en || item.address || \"\";\n}\n\n// Resolve an image URL for a journey item\nfunction resolveImage(item) {\n  var _item$photos, _item$photos$;\n  if (item.img) return item.img;\n  if (item.image) return item.image;\n  if (item.photo_name) {\n    const url = buildPhotoUrl(item.photo_name);\n    if (url) return url;\n  }\n  const photoName = (_item$photos = item.photos) === null || _item$photos === void 0 ? void 0 : (_item$photos$ = _item$photos[0]) === null || _item$photos$ === void 0 ? void 0 : _item$photos$.name;\n  if (photoName) {\n    const url = buildPhotoUrl(photoName);\n    if (url) return url;\n  }\n  return getDefaultImage(item.type);\n}\n\n// Group items by YYYY-MM-DD; prefer scheduled `start`, fallback to `addedAt`\nfunction groupByDate(items) {\n  return items.reduce((acc, it, index) => {\n    const iso = it.start || it.addedAt;\n    const day = iso ? iso.slice(0, 10) : \"Unscheduled\";\n    (acc[day] = acc[day] || []).push({\n      item: it,\n      index\n    });\n    return acc;\n  }, {});\n}\nfunction fmtTime(iso) {\n  if (!iso) return \"\";\n  const d = new Date(iso);\n  const h = String(d.getHours()).padStart(2, \"0\");\n  const m = String(d.getMinutes()).padStart(2, \"0\");\n  return `${h}:${m}`;\n}\nfunction formatMapDate(day) {\n  if (!day || day === \"Unscheduled\") {\n    const now = new Date();\n    return `${String(now.getMonth() + 1).padStart(2, \"0\")}-${String(now.getDate()).padStart(2, \"0\")}-${now.getFullYear()}`;\n  }\n  const d = new Date(day);\n  if (Number.isNaN(d.getTime())) {\n    return typeof day === \"string\" ? day : \"Trip Map\";\n  }\n  return `${String(d.getMonth() + 1).padStart(2, \"0\")}-${String(d.getDate()).padStart(2, \"0\")}-${d.getFullYear()}`;\n}\n\n/* ---------- component ---------- */\n\nexport default function MyJourney() {\n  _s();\n  const [isMapOpen, setIsMapOpen] = useState(false);\n  const [journey, setJourney] = useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem(LS_JOURNEY_KEY)) || [];\n    } catch {\n      return [];\n    }\n  });\n  useEffect(() => {\n    if (!isMapOpen) return;\n    const originalOverflow = document.body.style.overflow;\n    document.body.style.overflow = \"hidden\";\n    return () => {\n      document.body.style.overflow = originalOverflow;\n    };\n  }, [isMapOpen]);\n  const removeJourneyItem = targetIndex => {\n    setJourney(prev => {\n      const next = prev.filter((_, idx) => idx !== targetIndex);\n      if (next.length === prev.length) {\n        return prev;\n      }\n      localStorage.setItem(LS_JOURNEY_KEY, JSON.stringify(next));\n      return next;\n    });\n  };\n  const navigate = useNavigate();\n  if (!journey.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 16,\n        paddingBottom: 100\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginTop: 0\n        },\n        children: \"My Journey\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No places yet. Swipe right on destinations to add them here.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BottomNav, {\n        active: \"journey\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this);\n  }\n  const buckets = groupByDate(journey);\n  const days = Object.keys(buckets).sort();\n  const scheduledDays = days.filter(d => d !== \"Unscheduled\");\n  const mapDateLabel = formatMapDate(scheduledDays[0]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 16,\n      paddingBottom: 120,\n      position: \"relative\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        gap: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: 0\n        },\n        children: \"Brisbane\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: \"#6b7280\"\n        },\n        children: days[0] !== \"Unscheduled\" && days[days.length - 1] !== \"Unscheduled\" ? `${days[0]} — ${days[days.length - 1]}` : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsMapOpen(true),\n        style: {\n          marginLeft: \"auto\",\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 8,\n          border: \"1px solid #d1d5db\",\n          background: \"white\",\n          borderRadius: 12,\n          padding: \"8px 14px\",\n          cursor: \"pointer\",\n          fontSize: 14,\n          color: \"#1f2937\",\n          boxShadow: \"0 2px 6px rgba(0,0,0,0.08)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"20\",\n          height: \"20\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          strokeWidth: \"2\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M3 6l6-2 6 2 6-2v14l-6 2-6-2-6 2V6z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M9 4v14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M15 6v14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontWeight: 600\n          },\n          children: \"Map View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 16,\n        position: \"relative\",\n        paddingLeft: 56\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"absolute\",\n          top: 0,\n          bottom: 0,\n          left: 26,\n          width: 4,\n          background: \"#e5e7eb\",\n          borderRadius: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), days.map(day => {\n        const items = [...buckets[day]].sort((a, b) => new Date(a.item.start || a.item.addedAt) - new Date(b.item.start || b.item.addedAt));\n        return /*#__PURE__*/_jsxDEV(\"section\", {\n          style: {\n            marginBottom: 24\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"relative\",\n              margin: \"12px 0 8px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: \"absolute\",\n                left: -56,\n                top: 0,\n                width: 48,\n                textAlign: \"right\",\n                color: \"#6b7280\",\n                fontWeight: 500\n              },\n              children: day === \"Unscheduled\" ? \"—\" : day.slice(5).replace(\"-\", \"/\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this), items.map((entry, idx) => {\n            const a = entry.item;\n            const title = getTitle(a);\n            const addr = getAddress(a);\n            const imageUrl = resolveImage(a);\n            return /*#__PURE__*/_jsxDEV(\"article\", {\n              style: {\n                margin: \"12px 0 18px 0\",\n                background: \"white\",\n                borderRadius: 12,\n                boxShadow: \"0 8px 20px rgba(0,0,0,.08)\",\n                overflow: \"hidden\",\n                width: \"min(760px, 100%)\",\n                position: \"relative\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: \"relative\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    position: \"absolute\",\n                    left: -38,\n                    top: 18,\n                    width: 18,\n                    height: 18,\n                    background: \"#3b82f6\",\n                    borderRadius: \"50%\",\n                    boxShadow: \"0 0 0 4px #dbeafe\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 21\n              }, this), imageUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: imageUrl,\n                alt: title,\n                onError: e => e.currentTarget.src = getDefaultImage(a.type),\n                style: {\n                  width: \"100%\",\n                  height: 160,\n                  objectFit: \"cover\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => removeJourneyItem(entry.index),\n                \"aria-label\": \"Remove from journey\",\n                style: {\n                  position: \"absolute\",\n                  top: 12,\n                  right: 12,\n                  border: \"none\",\n                  background: \"rgba(17, 24, 39, 0.65)\",\n                  color: \"white\",\n                  width: 32,\n                  height: 32,\n                  borderRadius: 16,\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  cursor: \"pointer\"\n                },\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  padding: \"14px 16px 16px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 12,\n                    flexWrap: \"wrap\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: 18,\n                      fontWeight: 700\n                    },\n                    children: [a.start && a.end ? `${fmtTime(a.start)} — ${fmtTime(a.end)} ` : \"\", title]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      marginLeft: \"auto\",\n                      display: \"flex\",\n                      gap: 8\n                    },\n                    children: [addr && /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: \"#6b7280\",\n                        fontSize: 12\n                      },\n                      children: addr\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      style: {\n                        border: \"1px solid #e5e7eb\",\n                        background: \"white\",\n                        borderRadius: 8,\n                        padding: \"4px 10px\",\n                        cursor: \"pointer\"\n                      },\n                      onClick: () => navigate(\"/comment\", {\n                        state: {\n                          destination: a\n                        }\n                      }),\n                      children: \"comment\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 21\n              }, this)]\n            }, `${day}-${entry.index}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 19\n            }, this);\n          })]\n        }, day, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), isMapOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"fixed\",\n        inset: 0,\n        background: \"#000\",\n        zIndex: 300\n      },\n      children: [/*#__PURE__*/_jsxDEV(JourneyMap, {\n        height: \"100%\",\n        style: {\n          borderRadius: 0,\n          boxShadow: \"none\",\n          height: \"100%\",\n          minHeight: \"100%\",\n          background: \"#000\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"absolute\",\n          top: 24,\n          left: 16,\n          right: 16,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          color: \"white\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsMapOpen(false),\n          \"aria-label\": \"Back\",\n          style: {\n            border: \"none\",\n            background: \"rgba(17, 24, 39, 0.6)\",\n            color: \"white\",\n            width: 46,\n            height: 46,\n            borderRadius: 23,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            cursor: \"pointer\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"22\",\n            height: \"22\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2.5\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            children: /*#__PURE__*/_jsxDEV(\"polyline\", {\n              points: \"15 18 9 12 15 6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: \"rgba(17, 24, 39, 0.6)\",\n            padding: \"10px 24px\",\n            borderRadius: 999,\n            fontWeight: 600,\n            fontSize: 18\n          },\n          children: mapDateLabel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: 46\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(BottomNav, {\n      active: \"journey\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n_s(MyJourney, \"iZQ4V/fFK/N9+WaFGnOtBTtcslM=\", false, function () {\n  return [useNavigate];\n});\n_c = MyJourney;\nvar _c;\n$RefreshReg$(_c, \"MyJourney\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","JourneyMap","BottomNav","jsxDEV","_jsxDEV","LS_JOURNEY_KEY","GOOGLE_PLACES_API_KEY","process","env","REACT_APP_GOOGLE_PLACES_API_KEY","buildPhotoUrl","photoName","maxHeight","maxWidth","getDefaultImage","type","getTitle","item","title_en","name_en","title","name","getAddress","address_en","address","resolveImage","_item$photos","_item$photos$","img","image","photo_name","url","photos","groupByDate","items","reduce","acc","it","index","iso","start","addedAt","day","slice","push","fmtTime","d","Date","h","String","getHours","padStart","m","getMinutes","formatMapDate","now","getMonth","getDate","getFullYear","Number","isNaN","getTime","MyJourney","_s","isMapOpen","setIsMapOpen","journey","setJourney","JSON","parse","localStorage","getItem","originalOverflow","document","body","style","overflow","removeJourneyItem","targetIndex","prev","next","filter","_","idx","length","setItem","stringify","navigate","padding","paddingBottom","children","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","active","buckets","days","Object","keys","sort","scheduledDays","mapDateLabel","position","display","alignItems","gap","margin","color","onClick","marginLeft","border","background","borderRadius","cursor","fontSize","boxShadow","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","fontWeight","paddingLeft","top","bottom","left","map","a","b","marginBottom","textAlign","replace","entry","addr","imageUrl","src","alt","onError","e","currentTarget","objectFit","right","justifyContent","flexWrap","end","state","destination","inset","zIndex","minHeight","points","_c","$RefreshReg$"],"sources":["/Users/alex/Desktop/2025 S2/INFS3208/INFS3208-Cloud-Computing/front-end/src/components/Myjourney.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport JourneyMap from \"./JourneyMap\";\nimport BottomNav from \"./BottomNav\";\n\n// Must match the key used when saving journey items\nconst LS_JOURNEY_KEY = \"frame8.myJourney.v1\";\n\n// Read your Google Places key from env or replace with your constant\nconst GOOGLE_PLACES_API_KEY = process.env.REACT_APP_GOOGLE_PLACES_API_KEY;\n\n/* ---------- utils ---------- */\n\n// Build a Places API v1 photo URL from a photo name\nfunction buildPhotoUrl(photoName, { maxHeight = 600, maxWidth = 800 } = {}) {\n  if (!photoName) return null;\n  return `https://places.googleapis.com/v1/${photoName}/media?maxHeightPx=${maxHeight}&maxWidthPx=${maxWidth}&key=${GOOGLE_PLACES_API_KEY}`;\n}\n\n// Default/fallback image (adjust to your project path)\nfunction getDefaultImage(type) {\n  return `/images/defaults/${type || \"place\"}.jpg`;\n}\n\n// Prefer English fields when available\nfunction getTitle(item) {\n  return item.title_en || item.name_en || item.title || item.name || \"Untitled\";\n}\nfunction getAddress(item) {\n  return item.address_en || item.address || \"\";\n}\n\n// Resolve an image URL for a journey item\nfunction resolveImage(item) {\n  if (item.img) return item.img;\n  if (item.image) return item.image;\n\n  if (item.photo_name) {\n    const url = buildPhotoUrl(item.photo_name);\n    if (url) return url;\n  }\n\n  const photoName = item.photos?.[0]?.name;\n  if (photoName) {\n    const url = buildPhotoUrl(photoName);\n    if (url) return url;\n  }\n\n  return getDefaultImage(item.type);\n}\n\n// Group items by YYYY-MM-DD; prefer scheduled `start`, fallback to `addedAt`\nfunction groupByDate(items) {\n  return items.reduce((acc, it, index) => {\n    const iso = it.start || it.addedAt;\n    const day = iso ? iso.slice(0, 10) : \"Unscheduled\";\n    (acc[day] = acc[day] || []).push({ item: it, index });\n    return acc;\n  }, {});\n}\n\nfunction fmtTime(iso) {\n  if (!iso) return \"\";\n  const d = new Date(iso);\n  const h = String(d.getHours()).padStart(2, \"0\");\n  const m = String(d.getMinutes()).padStart(2, \"0\");\n  return `${h}:${m}`;\n}\n\nfunction formatMapDate(day) {\n  if (!day || day === \"Unscheduled\") {\n    const now = new Date();\n    return `${String(now.getMonth() + 1).padStart(2, \"0\")}-${String(\n      now.getDate()\n    ).padStart(2, \"0\")}-${now.getFullYear()}`;\n  }\n  const d = new Date(day);\n  if (Number.isNaN(d.getTime())) {\n    return typeof day === \"string\" ? day : \"Trip Map\";\n  }\n  return `${String(d.getMonth() + 1).padStart(2, \"0\")}-${String(\n    d.getDate()\n  ).padStart(2, \"0\")}-${d.getFullYear()}`;\n}\n\n/* ---------- component ---------- */\n\nexport default function MyJourney() {\n  const [isMapOpen, setIsMapOpen] = useState(false);\n  const [journey, setJourney] = useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem(LS_JOURNEY_KEY)) || [];\n    } catch {\n      return [];\n    }\n  });\n\n  useEffect(() => {\n    if (!isMapOpen) return;\n    const originalOverflow = document.body.style.overflow;\n    document.body.style.overflow = \"hidden\";\n    return () => {\n      document.body.style.overflow = originalOverflow;\n    };\n  }, [isMapOpen]);\n\n  const removeJourneyItem = (targetIndex) => {\n    setJourney((prev) => {\n      const next = prev.filter((_, idx) => idx !== targetIndex);\n      if (next.length === prev.length) {\n        return prev;\n      }\n      localStorage.setItem(LS_JOURNEY_KEY, JSON.stringify(next));\n      return next;\n    });\n  };\n\n  const navigate = useNavigate();\n\n  if (!journey.length) {\n    return (\n      <div style={{ padding: 16, paddingBottom: 100 }}>\n        <h2 style={{ marginTop: 0 }}>My Journey</h2>\n        <p>No places yet. Swipe right on destinations to add them here.</p>\n        <BottomNav active=\"journey\" />\n      </div>\n    );\n  }\n\n  const buckets = groupByDate(journey);\n  const days = Object.keys(buckets).sort();\n  const scheduledDays = days.filter((d) => d !== \"Unscheduled\");\n  const mapDateLabel = formatMapDate(scheduledDays[0]);\n\n  return (\n    <div style={{ padding: 16, paddingBottom: 120, position: \"relative\" }}>\n      <div style={{ display: \"flex\", alignItems: \"baseline\", gap: 12 }}>\n        <h2 style={{ margin: 0 }}>Brisbane</h2>\n        <span style={{ color: \"#6b7280\" }}>\n          {days[0] !== \"Unscheduled\" && days[days.length - 1] !== \"Unscheduled\"\n            ? `${days[0]} — ${days[days.length - 1]}`\n            : \"\"}\n        </span>\n        <button\n          onClick={() => setIsMapOpen(true)}\n          style={{\n            marginLeft: \"auto\",\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 8,\n            border: \"1px solid #d1d5db\",\n            background: \"white\",\n            borderRadius: 12,\n            padding: \"8px 14px\",\n            cursor: \"pointer\",\n            fontSize: 14,\n            color: \"#1f2937\",\n            boxShadow: \"0 2px 6px rgba(0,0,0,0.08)\",\n          }}\n        >\n          <svg\n            width=\"20\"\n            height=\"20\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n          >\n            <path d=\"M3 6l6-2 6 2 6-2v14l-6 2-6-2-6 2V6z\" />\n            <path d=\"M9 4v14\" />\n            <path d=\"M15 6v14\" />\n          </svg>\n          <span style={{ fontWeight: 600 }}>Map View</span>\n        </button>\n      </div>\n\n      <div style={{ marginTop: 16, position: \"relative\", paddingLeft: 56 }}>\n        <div\n          style={{\n            position: \"absolute\",\n            top: 0,\n            bottom: 0,\n            left: 26,\n            width: 4,\n            background: \"#e5e7eb\",\n            borderRadius: 2,\n          }}\n        />\n\n        {days.map((day) => {\n          const items = [...buckets[day]].sort(\n            (a, b) =>\n              new Date(a.item.start || a.item.addedAt) -\n              new Date(b.item.start || b.item.addedAt)\n          );\n\n          return (\n            <section key={day} style={{ marginBottom: 24 }}>\n              <div style={{ position: \"relative\", margin: \"12px 0 8px\" }}>\n                <div\n                  style={{\n                    position: \"absolute\",\n                    left: -56,\n                    top: 0,\n                    width: 48,\n                    textAlign: \"right\",\n                    color: \"#6b7280\",\n                    fontWeight: 500,\n                  }}\n                >\n                  {day === \"Unscheduled\" ? \"—\" : day.slice(5).replace(\"-\", \"/\")}\n                </div>\n              </div>\n\n              {items.map((entry, idx) => {\n                const a = entry.item;\n                const title = getTitle(a);\n                const addr = getAddress(a);\n                const imageUrl = resolveImage(a);\n\n                return (\n                  <article\n                    key={`${day}-${entry.index}`}\n                    style={{\n                      margin: \"12px 0 18px 0\",\n                      background: \"white\",\n                      borderRadius: 12,\n                      boxShadow: \"0 8px 20px rgba(0,0,0,.08)\",\n                      overflow: \"hidden\",\n                      width: \"min(760px, 100%)\",\n                      position: \"relative\",\n                    }}\n                  >\n                    <div style={{ position: \"relative\" }}>\n                      <div\n                        style={{\n                          position: \"absolute\",\n                          left: -38,\n                          top: 18,\n                          width: 18,\n                          height: 18,\n                          background: \"#3b82f6\",\n                          borderRadius: \"50%\",\n                          boxShadow: \"0 0 0 4px #dbeafe\",\n                        }}\n                      />\n                    </div>\n\n                    {imageUrl && (\n                      <img\n                        src={imageUrl}\n                        alt={title}\n                        onError={(e) => (e.currentTarget.src = getDefaultImage(a.type))}\n                        style={{ width: \"100%\", height: 160, objectFit: \"cover\" }}\n                      />\n                    )}\n\n                    <button\n                      type=\"button\"\n                      onClick={() => removeJourneyItem(entry.index)}\n                      aria-label=\"Remove from journey\"\n                      style={{\n                        position: \"absolute\",\n                        top: 12,\n                        right: 12,\n                        border: \"none\",\n                        background: \"rgba(17, 24, 39, 0.65)\",\n                        color: \"white\",\n                        width: 32,\n                        height: 32,\n                        borderRadius: 16,\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        cursor: \"pointer\",\n                      }}\n                    >\n                      X\n                    </button>\n\n                    <div style={{ padding: \"14px 16px 16px\" }}>\n                      <div\n                        style={{\n                          display: \"flex\",\n                          alignItems: \"center\",\n                          gap: 12,\n                          flexWrap: \"wrap\",\n                        }}\n                      >\n                        <div style={{ fontSize: 18, fontWeight: 700 }}>\n                          {a.start && a.end\n                            ? `${fmtTime(a.start)} — ${fmtTime(a.end)} `\n                            : \"\"}\n                          {title}\n                        </div>\n\n                        <div style={{ marginLeft: \"auto\", display: \"flex\", gap: 8 }}>\n                          {addr && (\n                            <span style={{ color: \"#6b7280\", fontSize: 12 }}>\n                              {addr}\n                            </span>\n                          )}\n                          <button\n                            type=\"button\"\n                            style={{\n                              border: \"1px solid #e5e7eb\",\n                              background: \"white\",\n                              borderRadius: 8,\n                              padding: \"4px 10px\",\n                              cursor: \"pointer\",\n                            }}\n                            onClick={() =>\n                              navigate(\"/comment\", {\n                                state: { destination: a },\n                              })\n                            }\n                          >\n                            comment\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </article>\n                );\n              })}\n            </section>\n          );\n        })}\n      </div>\n\n      {isMapOpen && (\n        <div\n          style={{\n            position: \"fixed\",\n            inset: 0,\n            background: \"#000\",\n            zIndex: 300,\n          }}\n        >\n          <JourneyMap\n            height=\"100%\"\n            style={{\n              borderRadius: 0,\n              boxShadow: \"none\",\n              height: \"100%\",\n              minHeight: \"100%\",\n              background: \"#000\",\n            }}\n          />\n          <div\n            style={{\n              position: \"absolute\",\n              top: 24,\n              left: 16,\n              right: 16,\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"space-between\",\n              color: \"white\",\n            }}\n          >\n            <button\n              onClick={() => setIsMapOpen(false)}\n              aria-label=\"Back\"\n              style={{\n                border: \"none\",\n                background: \"rgba(17, 24, 39, 0.6)\",\n                color: \"white\",\n                width: 46,\n                height: 46,\n                borderRadius: 23,\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                cursor: \"pointer\",\n              }}\n            >\n              <svg\n                width=\"22\"\n                height=\"22\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2.5\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              >\n                <polyline points=\"15 18 9 12 15 6\" />\n              </svg>\n            </button>\n            <div\n              style={{\n                background: \"rgba(17, 24, 39, 0.6)\",\n                padding: \"10px 24px\",\n                borderRadius: 999,\n                fontWeight: 600,\n                fontSize: 18,\n              }}\n            >\n              {mapDateLabel}\n            </div>\n            <div style={{ width: 46 }} />\n          </div>\n        </div>\n      )}\n\n      <BottomNav active=\"journey\" />\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,SAAS,MAAM,aAAa;;AAEnC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,cAAc,GAAG,qBAAqB;;AAE5C;AACA,MAAMC,qBAAqB,GAAGC,OAAO,CAACC,GAAG,CAACC,+BAA+B;;AAEzE;;AAEA;AACA,SAASC,aAAaA,CAACC,SAAS,EAAE;EAAEC,SAAS,GAAG,GAAG;EAAEC,QAAQ,GAAG;AAAI,CAAC,GAAG,CAAC,CAAC,EAAE;EAC1E,IAAI,CAACF,SAAS,EAAE,OAAO,IAAI;EAC3B,OAAO,oCAAoCA,SAAS,sBAAsBC,SAAS,eAAeC,QAAQ,QAAQP,qBAAqB,EAAE;AAC3I;;AAEA;AACA,SAASQ,eAAeA,CAACC,IAAI,EAAE;EAC7B,OAAO,oBAAoBA,IAAI,IAAI,OAAO,MAAM;AAClD;;AAEA;AACA,SAASC,QAAQA,CAACC,IAAI,EAAE;EACtB,OAAOA,IAAI,CAACC,QAAQ,IAAID,IAAI,CAACE,OAAO,IAAIF,IAAI,CAACG,KAAK,IAAIH,IAAI,CAACI,IAAI,IAAI,UAAU;AAC/E;AACA,SAASC,UAAUA,CAACL,IAAI,EAAE;EACxB,OAAOA,IAAI,CAACM,UAAU,IAAIN,IAAI,CAACO,OAAO,IAAI,EAAE;AAC9C;;AAEA;AACA,SAASC,YAAYA,CAACR,IAAI,EAAE;EAAA,IAAAS,YAAA,EAAAC,aAAA;EAC1B,IAAIV,IAAI,CAACW,GAAG,EAAE,OAAOX,IAAI,CAACW,GAAG;EAC7B,IAAIX,IAAI,CAACY,KAAK,EAAE,OAAOZ,IAAI,CAACY,KAAK;EAEjC,IAAIZ,IAAI,CAACa,UAAU,EAAE;IACnB,MAAMC,GAAG,GAAGrB,aAAa,CAACO,IAAI,CAACa,UAAU,CAAC;IAC1C,IAAIC,GAAG,EAAE,OAAOA,GAAG;EACrB;EAEA,MAAMpB,SAAS,IAAAe,YAAA,GAAGT,IAAI,CAACe,MAAM,cAAAN,YAAA,wBAAAC,aAAA,GAAXD,YAAA,CAAc,CAAC,CAAC,cAAAC,aAAA,uBAAhBA,aAAA,CAAkBN,IAAI;EACxC,IAAIV,SAAS,EAAE;IACb,MAAMoB,GAAG,GAAGrB,aAAa,CAACC,SAAS,CAAC;IACpC,IAAIoB,GAAG,EAAE,OAAOA,GAAG;EACrB;EAEA,OAAOjB,eAAe,CAACG,IAAI,CAACF,IAAI,CAAC;AACnC;;AAEA;AACA,SAASkB,WAAWA,CAACC,KAAK,EAAE;EAC1B,OAAOA,KAAK,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,EAAE,EAAEC,KAAK,KAAK;IACtC,MAAMC,GAAG,GAAGF,EAAE,CAACG,KAAK,IAAIH,EAAE,CAACI,OAAO;IAClC,MAAMC,GAAG,GAAGH,GAAG,GAAGA,GAAG,CAACI,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,aAAa;IAClD,CAACP,GAAG,CAACM,GAAG,CAAC,GAAGN,GAAG,CAACM,GAAG,CAAC,IAAI,EAAE,EAAEE,IAAI,CAAC;MAAE3B,IAAI,EAAEoB,EAAE;MAAEC;IAAM,CAAC,CAAC;IACrD,OAAOF,GAAG;EACZ,CAAC,EAAE,CAAC,CAAC,CAAC;AACR;AAEA,SAASS,OAAOA,CAACN,GAAG,EAAE;EACpB,IAAI,CAACA,GAAG,EAAE,OAAO,EAAE;EACnB,MAAMO,CAAC,GAAG,IAAIC,IAAI,CAACR,GAAG,CAAC;EACvB,MAAMS,CAAC,GAAGC,MAAM,CAACH,CAAC,CAACI,QAAQ,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EAC/C,MAAMC,CAAC,GAAGH,MAAM,CAACH,CAAC,CAACO,UAAU,CAAC,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EACjD,OAAO,GAAGH,CAAC,IAAII,CAAC,EAAE;AACpB;AAEA,SAASE,aAAaA,CAACZ,GAAG,EAAE;EAC1B,IAAI,CAACA,GAAG,IAAIA,GAAG,KAAK,aAAa,EAAE;IACjC,MAAMa,GAAG,GAAG,IAAIR,IAAI,CAAC,CAAC;IACtB,OAAO,GAAGE,MAAM,CAACM,GAAG,CAACC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAACL,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAIF,MAAM,CAC7DM,GAAG,CAACE,OAAO,CAAC,CACd,CAAC,CAACN,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAII,GAAG,CAACG,WAAW,CAAC,CAAC,EAAE;EAC3C;EACA,MAAMZ,CAAC,GAAG,IAAIC,IAAI,CAACL,GAAG,CAAC;EACvB,IAAIiB,MAAM,CAACC,KAAK,CAACd,CAAC,CAACe,OAAO,CAAC,CAAC,CAAC,EAAE;IAC7B,OAAO,OAAOnB,GAAG,KAAK,QAAQ,GAAGA,GAAG,GAAG,UAAU;EACnD;EACA,OAAO,GAAGO,MAAM,CAACH,CAAC,CAACU,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAACL,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAIF,MAAM,CAC3DH,CAAC,CAACW,OAAO,CAAC,CACZ,CAAC,CAACN,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAIL,CAAC,CAACY,WAAW,CAAC,CAAC,EAAE;AACzC;;AAEA;;AAEA,eAAe,SAASI,SAASA,CAAA,EAAG;EAAAC,EAAA;EAClC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGlE,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACmE,OAAO,EAAEC,UAAU,CAAC,GAAGpE,QAAQ,CAAC,MAAM;IAC3C,IAAI;MACF,OAAOqE,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAClE,cAAc,CAAC,CAAC,IAAI,EAAE;IAC/D,CAAC,CAAC,MAAM;MACN,OAAO,EAAE;IACX;EACF,CAAC,CAAC;EAEFP,SAAS,CAAC,MAAM;IACd,IAAI,CAACkE,SAAS,EAAE;IAChB,MAAMQ,gBAAgB,GAAGC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ;IACrDH,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,QAAQ;IACvC,OAAO,MAAM;MACXH,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAGJ,gBAAgB;IACjD,CAAC;EACH,CAAC,EAAE,CAACR,SAAS,CAAC,CAAC;EAEf,MAAMa,iBAAiB,GAAIC,WAAW,IAAK;IACzCX,UAAU,CAAEY,IAAI,IAAK;MACnB,MAAMC,IAAI,GAAGD,IAAI,CAACE,MAAM,CAAC,CAACC,CAAC,EAAEC,GAAG,KAAKA,GAAG,KAAKL,WAAW,CAAC;MACzD,IAAIE,IAAI,CAACI,MAAM,KAAKL,IAAI,CAACK,MAAM,EAAE;QAC/B,OAAOL,IAAI;MACb;MACAT,YAAY,CAACe,OAAO,CAAChF,cAAc,EAAE+D,IAAI,CAACkB,SAAS,CAACN,IAAI,CAAC,CAAC;MAC1D,OAAOA,IAAI;IACb,CAAC,CAAC;EACJ,CAAC;EAED,MAAMO,QAAQ,GAAGvF,WAAW,CAAC,CAAC;EAE9B,IAAI,CAACkE,OAAO,CAACkB,MAAM,EAAE;IACnB,oBACEhF,OAAA;MAAKuE,KAAK,EAAE;QAAEa,OAAO,EAAE,EAAE;QAAEC,aAAa,EAAE;MAAI,CAAE;MAAAC,QAAA,gBAC9CtF,OAAA;QAAIuE,KAAK,EAAE;UAAEgB,SAAS,EAAE;QAAE,CAAE;QAAAD,QAAA,EAAC;MAAU;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5C3F,OAAA;QAAAsF,QAAA,EAAG;MAA4D;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACnE3F,OAAA,CAACF,SAAS;QAAC8F,MAAM,EAAC;MAAS;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3B,CAAC;EAEV;EAEA,MAAME,OAAO,GAAGhE,WAAW,CAACiC,OAAO,CAAC;EACpC,MAAMgC,IAAI,GAAGC,MAAM,CAACC,IAAI,CAACH,OAAO,CAAC,CAACI,IAAI,CAAC,CAAC;EACxC,MAAMC,aAAa,GAAGJ,IAAI,CAACjB,MAAM,CAAEnC,CAAC,IAAKA,CAAC,KAAK,aAAa,CAAC;EAC7D,MAAMyD,YAAY,GAAGjD,aAAa,CAACgD,aAAa,CAAC,CAAC,CAAC,CAAC;EAEpD,oBACElG,OAAA;IAAKuE,KAAK,EAAE;MAAEa,OAAO,EAAE,EAAE;MAAEC,aAAa,EAAE,GAAG;MAAEe,QAAQ,EAAE;IAAW,CAAE;IAAAd,QAAA,gBACpEtF,OAAA;MAAKuE,KAAK,EAAE;QAAE8B,OAAO,EAAE,MAAM;QAAEC,UAAU,EAAE,UAAU;QAAEC,GAAG,EAAE;MAAG,CAAE;MAAAjB,QAAA,gBAC/DtF,OAAA;QAAIuE,KAAK,EAAE;UAAEiC,MAAM,EAAE;QAAE,CAAE;QAAAlB,QAAA,EAAC;MAAQ;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACvC3F,OAAA;QAAMuE,KAAK,EAAE;UAAEkC,KAAK,EAAE;QAAU,CAAE;QAAAnB,QAAA,EAC/BQ,IAAI,CAAC,CAAC,CAAC,KAAK,aAAa,IAAIA,IAAI,CAACA,IAAI,CAACd,MAAM,GAAG,CAAC,CAAC,KAAK,aAAa,GACjE,GAAGc,IAAI,CAAC,CAAC,CAAC,MAAMA,IAAI,CAACA,IAAI,CAACd,MAAM,GAAG,CAAC,CAAC,EAAE,GACvC;MAAE;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eACP3F,OAAA;QACE0G,OAAO,EAAEA,CAAA,KAAM7C,YAAY,CAAC,IAAI,CAAE;QAClCU,KAAK,EAAE;UACLoC,UAAU,EAAE,MAAM;UAClBN,OAAO,EAAE,MAAM;UACfC,UAAU,EAAE,QAAQ;UACpBC,GAAG,EAAE,CAAC;UACNK,MAAM,EAAE,mBAAmB;UAC3BC,UAAU,EAAE,OAAO;UACnBC,YAAY,EAAE,EAAE;UAChB1B,OAAO,EAAE,UAAU;UACnB2B,MAAM,EAAE,SAAS;UACjBC,QAAQ,EAAE,EAAE;UACZP,KAAK,EAAE,SAAS;UAChBQ,SAAS,EAAE;QACb,CAAE;QAAA3B,QAAA,gBAEFtF,OAAA;UACEkH,KAAK,EAAC,IAAI;UACVC,MAAM,EAAC,IAAI;UACXC,OAAO,EAAC,WAAW;UACnBC,IAAI,EAAC,MAAM;UACXC,MAAM,EAAC,cAAc;UACrBC,WAAW,EAAC,GAAG;UACfC,aAAa,EAAC,OAAO;UACrBC,cAAc,EAAC,OAAO;UAAAnC,QAAA,gBAEtBtF,OAAA;YAAM0C,CAAC,EAAC;UAAqC;YAAA8C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAChD3F,OAAA;YAAM0C,CAAC,EAAC;UAAS;YAAA8C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACpB3F,OAAA;YAAM0C,CAAC,EAAC;UAAU;YAAA8C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClB,CAAC,eACN3F,OAAA;UAAMuE,KAAK,EAAE;YAAEmD,UAAU,EAAE;UAAI,CAAE;UAAApC,QAAA,EAAC;QAAQ;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAEN3F,OAAA;MAAKuE,KAAK,EAAE;QAAEgB,SAAS,EAAE,EAAE;QAAEa,QAAQ,EAAE,UAAU;QAAEuB,WAAW,EAAE;MAAG,CAAE;MAAArC,QAAA,gBACnEtF,OAAA;QACEuE,KAAK,EAAE;UACL6B,QAAQ,EAAE,UAAU;UACpBwB,GAAG,EAAE,CAAC;UACNC,MAAM,EAAE,CAAC;UACTC,IAAI,EAAE,EAAE;UACRZ,KAAK,EAAE,CAAC;UACRL,UAAU,EAAE,SAAS;UACrBC,YAAY,EAAE;QAChB;MAAE;QAAAtB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAEDG,IAAI,CAACiC,GAAG,CAAEzF,GAAG,IAAK;QACjB,MAAMR,KAAK,GAAG,CAAC,GAAG+D,OAAO,CAACvD,GAAG,CAAC,CAAC,CAAC2D,IAAI,CAClC,CAAC+B,CAAC,EAAEC,CAAC,KACH,IAAItF,IAAI,CAACqF,CAAC,CAACnH,IAAI,CAACuB,KAAK,IAAI4F,CAAC,CAACnH,IAAI,CAACwB,OAAO,CAAC,GACxC,IAAIM,IAAI,CAACsF,CAAC,CAACpH,IAAI,CAACuB,KAAK,IAAI6F,CAAC,CAACpH,IAAI,CAACwB,OAAO,CAC3C,CAAC;QAED,oBACErC,OAAA;UAAmBuE,KAAK,EAAE;YAAE2D,YAAY,EAAE;UAAG,CAAE;UAAA5C,QAAA,gBAC7CtF,OAAA;YAAKuE,KAAK,EAAE;cAAE6B,QAAQ,EAAE,UAAU;cAAEI,MAAM,EAAE;YAAa,CAAE;YAAAlB,QAAA,eACzDtF,OAAA;cACEuE,KAAK,EAAE;gBACL6B,QAAQ,EAAE,UAAU;gBACpB0B,IAAI,EAAE,CAAC,EAAE;gBACTF,GAAG,EAAE,CAAC;gBACNV,KAAK,EAAE,EAAE;gBACTiB,SAAS,EAAE,OAAO;gBAClB1B,KAAK,EAAE,SAAS;gBAChBiB,UAAU,EAAE;cACd,CAAE;cAAApC,QAAA,EAEDhD,GAAG,KAAK,aAAa,GAAG,GAAG,GAAGA,GAAG,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC6F,OAAO,CAAC,GAAG,EAAE,GAAG;YAAC;cAAA5C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1D;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,EAEL7D,KAAK,CAACiG,GAAG,CAAC,CAACM,KAAK,EAAEtD,GAAG,KAAK;YACzB,MAAMiD,CAAC,GAAGK,KAAK,CAACxH,IAAI;YACpB,MAAMG,KAAK,GAAGJ,QAAQ,CAACoH,CAAC,CAAC;YACzB,MAAMM,IAAI,GAAGpH,UAAU,CAAC8G,CAAC,CAAC;YAC1B,MAAMO,QAAQ,GAAGlH,YAAY,CAAC2G,CAAC,CAAC;YAEhC,oBACEhI,OAAA;cAEEuE,KAAK,EAAE;gBACLiC,MAAM,EAAE,eAAe;gBACvBK,UAAU,EAAE,OAAO;gBACnBC,YAAY,EAAE,EAAE;gBAChBG,SAAS,EAAE,4BAA4B;gBACvCzC,QAAQ,EAAE,QAAQ;gBAClB0C,KAAK,EAAE,kBAAkB;gBACzBd,QAAQ,EAAE;cACZ,CAAE;cAAAd,QAAA,gBAEFtF,OAAA;gBAAKuE,KAAK,EAAE;kBAAE6B,QAAQ,EAAE;gBAAW,CAAE;gBAAAd,QAAA,eACnCtF,OAAA;kBACEuE,KAAK,EAAE;oBACL6B,QAAQ,EAAE,UAAU;oBACpB0B,IAAI,EAAE,CAAC,EAAE;oBACTF,GAAG,EAAE,EAAE;oBACPV,KAAK,EAAE,EAAE;oBACTC,MAAM,EAAE,EAAE;oBACVN,UAAU,EAAE,SAAS;oBACrBC,YAAY,EAAE,KAAK;oBACnBG,SAAS,EAAE;kBACb;gBAAE;kBAAAzB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,EAEL4C,QAAQ,iBACPvI,OAAA;gBACEwI,GAAG,EAAED,QAAS;gBACdE,GAAG,EAAEzH,KAAM;gBACX0H,OAAO,EAAGC,CAAC,IAAMA,CAAC,CAACC,aAAa,CAACJ,GAAG,GAAG9H,eAAe,CAACsH,CAAC,CAACrH,IAAI,CAAG;gBAChE4D,KAAK,EAAE;kBAAE2C,KAAK,EAAE,MAAM;kBAAEC,MAAM,EAAE,GAAG;kBAAE0B,SAAS,EAAE;gBAAQ;cAAE;gBAAArD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3D,CACF,eAED3F,OAAA;gBACEW,IAAI,EAAC,QAAQ;gBACb+F,OAAO,EAAEA,CAAA,KAAMjC,iBAAiB,CAAC4D,KAAK,CAACnG,KAAK,CAAE;gBAC9C,cAAW,qBAAqB;gBAChCqC,KAAK,EAAE;kBACL6B,QAAQ,EAAE,UAAU;kBACpBwB,GAAG,EAAE,EAAE;kBACPkB,KAAK,EAAE,EAAE;kBACTlC,MAAM,EAAE,MAAM;kBACdC,UAAU,EAAE,wBAAwB;kBACpCJ,KAAK,EAAE,OAAO;kBACdS,KAAK,EAAE,EAAE;kBACTC,MAAM,EAAE,EAAE;kBACVL,YAAY,EAAE,EAAE;kBAChBT,OAAO,EAAE,MAAM;kBACfC,UAAU,EAAE,QAAQ;kBACpByC,cAAc,EAAE,QAAQ;kBACxBhC,MAAM,EAAE;gBACV,CAAE;gBAAAzB,QAAA,EACH;cAED;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAET3F,OAAA;gBAAKuE,KAAK,EAAE;kBAAEa,OAAO,EAAE;gBAAiB,CAAE;gBAAAE,QAAA,eACxCtF,OAAA;kBACEuE,KAAK,EAAE;oBACL8B,OAAO,EAAE,MAAM;oBACfC,UAAU,EAAE,QAAQ;oBACpBC,GAAG,EAAE,EAAE;oBACPyC,QAAQ,EAAE;kBACZ,CAAE;kBAAA1D,QAAA,gBAEFtF,OAAA;oBAAKuE,KAAK,EAAE;sBAAEyC,QAAQ,EAAE,EAAE;sBAAEU,UAAU,EAAE;oBAAI,CAAE;oBAAApC,QAAA,GAC3C0C,CAAC,CAAC5F,KAAK,IAAI4F,CAAC,CAACiB,GAAG,GACb,GAAGxG,OAAO,CAACuF,CAAC,CAAC5F,KAAK,CAAC,MAAMK,OAAO,CAACuF,CAAC,CAACiB,GAAG,CAAC,GAAG,GAC1C,EAAE,EACLjI,KAAK;kBAAA;oBAAAwE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC,eAEN3F,OAAA;oBAAKuE,KAAK,EAAE;sBAAEoC,UAAU,EAAE,MAAM;sBAAEN,OAAO,EAAE,MAAM;sBAAEE,GAAG,EAAE;oBAAE,CAAE;oBAAAjB,QAAA,GACzDgD,IAAI,iBACHtI,OAAA;sBAAMuE,KAAK,EAAE;wBAAEkC,KAAK,EAAE,SAAS;wBAAEO,QAAQ,EAAE;sBAAG,CAAE;sBAAA1B,QAAA,EAC7CgD;oBAAI;sBAAA9C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACD,CACP,eACD3F,OAAA;sBACEW,IAAI,EAAC,QAAQ;sBACb4D,KAAK,EAAE;wBACLqC,MAAM,EAAE,mBAAmB;wBAC3BC,UAAU,EAAE,OAAO;wBACnBC,YAAY,EAAE,CAAC;wBACf1B,OAAO,EAAE,UAAU;wBACnB2B,MAAM,EAAE;sBACV,CAAE;sBACFL,OAAO,EAAEA,CAAA,KACPvB,QAAQ,CAAC,UAAU,EAAE;wBACnB+D,KAAK,EAAE;0BAAEC,WAAW,EAAEnB;wBAAE;sBAC1B,CAAC,CACF;sBAAA1C,QAAA,EACF;oBAED;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACN,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA,GAnGD,GAAGrD,GAAG,IAAI+F,KAAK,CAACnG,KAAK,EAAE;cAAAsD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAoGrB,CAAC;UAEd,CAAC,CAAC;QAAA,GA/HUrD,GAAG;UAAAkD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAgIR,CAAC;MAEd,CAAC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,EAEL/B,SAAS,iBACR5D,OAAA;MACEuE,KAAK,EAAE;QACL6B,QAAQ,EAAE,OAAO;QACjBgD,KAAK,EAAE,CAAC;QACRvC,UAAU,EAAE,MAAM;QAClBwC,MAAM,EAAE;MACV,CAAE;MAAA/D,QAAA,gBAEFtF,OAAA,CAACH,UAAU;QACTsH,MAAM,EAAC,MAAM;QACb5C,KAAK,EAAE;UACLuC,YAAY,EAAE,CAAC;UACfG,SAAS,EAAE,MAAM;UACjBE,MAAM,EAAE,MAAM;UACdmC,SAAS,EAAE,MAAM;UACjBzC,UAAU,EAAE;QACd;MAAE;QAAArB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACF3F,OAAA;QACEuE,KAAK,EAAE;UACL6B,QAAQ,EAAE,UAAU;UACpBwB,GAAG,EAAE,EAAE;UACPE,IAAI,EAAE,EAAE;UACRgB,KAAK,EAAE,EAAE;UACTzC,OAAO,EAAE,MAAM;UACfC,UAAU,EAAE,QAAQ;UACpByC,cAAc,EAAE,eAAe;UAC/BtC,KAAK,EAAE;QACT,CAAE;QAAAnB,QAAA,gBAEFtF,OAAA;UACE0G,OAAO,EAAEA,CAAA,KAAM7C,YAAY,CAAC,KAAK,CAAE;UACnC,cAAW,MAAM;UACjBU,KAAK,EAAE;YACLqC,MAAM,EAAE,MAAM;YACdC,UAAU,EAAE,uBAAuB;YACnCJ,KAAK,EAAE,OAAO;YACdS,KAAK,EAAE,EAAE;YACTC,MAAM,EAAE,EAAE;YACVL,YAAY,EAAE,EAAE;YAChBT,OAAO,EAAE,MAAM;YACfC,UAAU,EAAE,QAAQ;YACpByC,cAAc,EAAE,QAAQ;YACxBhC,MAAM,EAAE;UACV,CAAE;UAAAzB,QAAA,eAEFtF,OAAA;YACEkH,KAAK,EAAC,IAAI;YACVC,MAAM,EAAC,IAAI;YACXC,OAAO,EAAC,WAAW;YACnBC,IAAI,EAAC,MAAM;YACXC,MAAM,EAAC,cAAc;YACrBC,WAAW,EAAC,KAAK;YACjBC,aAAa,EAAC,OAAO;YACrBC,cAAc,EAAC,OAAO;YAAAnC,QAAA,eAEtBtF,OAAA;cAAUuJ,MAAM,EAAC;YAAiB;cAAA/D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACT3F,OAAA;UACEuE,KAAK,EAAE;YACLsC,UAAU,EAAE,uBAAuB;YACnCzB,OAAO,EAAE,WAAW;YACpB0B,YAAY,EAAE,GAAG;YACjBY,UAAU,EAAE,GAAG;YACfV,QAAQ,EAAE;UACZ,CAAE;UAAA1B,QAAA,EAEDa;QAAY;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC,eACN3F,OAAA;UAAKuE,KAAK,EAAE;YAAE2C,KAAK,EAAE;UAAG;QAAE;UAAA1B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAED3F,OAAA,CAACF,SAAS;MAAC8F,MAAM,EAAC;IAAS;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC3B,CAAC;AAEV;AAAChC,EAAA,CApUuBD,SAAS;EAAA,QA8Bd9D,WAAW;AAAA;AAAA4J,EAAA,GA9BN9F,SAAS;AAAA,IAAA8F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}